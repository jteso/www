















































<!doctype html>


  <meta charset="utf-8">


<title>Creating Your Own Theme· kapalhq.io</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Define a description for better SEO result -->
<meta name="description" content="Overview">

<link rel="alternate" href="/feed.xml" type="application/atom+xml">



<link rel="stylesheet" href="/assets/themes/curtana/css/app.css?assets-inline">

<!-- Canonical links, avoid duplicate content problems -->
<link rel="canonical" href="http://kapalhq.com/creating-themes.html">

<!-- DNS prefetching for static files -->


<!-- browser-sync, don't remove this -->
<!-- BS_INSERT -->

<!-- Head hooks -->


<!-- Open Graph and Twitter Cards support, more info: https://dev.twitter.com/docs/cards -->


<meta property="og:type" content="article">
<meta property="og:site_name" content="kapalhq.io">
<meta property="og:title" content="Creating Your Own Theme">
<meta property="og:url" content="http://kapalhq.com/creating-themes.html">
<meta property="og:description" content="Overview">

<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Creating Your Own Theme">
<meta name="twitter:url" content="http://kapalhq.com/creating-themes.html">
<meta name="twitter:description" content="Overview">


  <meta name="twitter:site" content="@kapalhq">



  <meta name="twitter:creator" content="@tunghsiao">




<!-- Post / page specified styles -->


<!-- Post specified styles -->
<style>
  body {
    
    
  }

  

  

  
    

  

  

  

  

  

  

  
</style>

<!-- Header, just a logo at the moment -->
<header>
  <a href="/" class=logo accesskey=x>
    <h1>kapalhq.io</h1>
  </a>
</header>

<!-- Main navigation with current page / categoriy highlighted -->
<nav class="navigation">
  <ul>
    
      
      <li >
        <a href="/">
          Home
        </a>
      </li>
    
      
      <li >
        <a href="/work/">
          Work
        </a>
      </li>
    
      
      <li >
        <a href="/news/">
          News
        </a>
      </li>
    
      
      <li >
        <a href="/about/">
          About
        </a>
      </li>
    
  </ul>
</nav>

<!-- Main content wrap -->


<main class="content  
  
" role=main>
  















































<!-- Post-wide custom CSS -->

  


<!-- Prepare for image headers -->


<!-- Prepare for SVG header -->










<!-- Article wrapper, limit width -->
<article 
  
>

  <!-- Post title -->
  <header>

    <h1 class="
  
" title="Creating Your Own Theme">
      
  
    
  
    Creating Your Own Theme <span></span>
  

  

    </h1>

    
      <small>
        By <span rel="author">Tunghsiao Liu</span>
        on <time datetime="2014-06-09T00:00:00+10:00">Jun 9, 2014</time>
      </small>
    

    

  </header>

  <!-- Post content -->
  <div class="post-content">
    <h2 id="overview">Overview</h2>

<p>You can create your own theme in AMSF, theme files are located in the following location (I use default theme Curtana here for better understanding):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>├── _app/
|   ├── _data/
|   |   └── curtana.yml
|   ├── _includes/
|   |   └── themes/
|   |   |   └── curtana/
|   |   |   |   └── includes/
|   |   |   |   └── layouts/
|   ├── _pages/
|   |   └── themes/
|   |   |   └── curtana/
|   |   |   |   └── example-page.md
|   |   |   |   └── ...
|   ├── assets/
|   |   └── themes/
|   |   |   └── curtana/
|   |   |   |   └── _js/
|   |   |   |   └── _less/
|   |   |   |   └── ...
</code></pre>
</div>

<p>The theme specific config <code class="highlighter-rouge">curtana.yml</code> should have the same filename as your theme name. It should contain theme specific variables and can also override AMSF built-in settings.</p>

<p>More info about theme structure you can check out my default theme <a href="http://github.com/amsf/amsf-curtana">Curtana</a>.</p>

<p>You can also have multiple themes in your project, as many as you like. For example if you also have themes Bootstrap and Ghost installed, the file structure should be:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>├── _app/
|   ├── _data/
|   |   └── bootstrap.yml
|   |   └── curtana.yml
|   |   └── ghost.yml
|   ├── _includes/
|   |   └── themes/
|   |   |   └── bootstrap/
|   |   |   |   └── includes/
|   |   |   |   └── layouts/
|   |   |   └── curtana/
|   |   |   |   └── includes/
|   |   |   |   └── layouts/
|   |   |   └── ghost/
|   |   |   |   └── includes/
|   |   |   |   └── layouts/
|   ├── _pages/
|   |   └── themes/
|   |   |   └── bootstrap/
|   |   |   |   └── example-about.md
|   |   |   |   └── example-blog.md
|   |   |   |   └── example-fluid-container.md
|   |   |   |   └── ...
|   |   |   └── curtana/
|   |   |   |   └── example-about.md
|   |   |   |   └── example-news.md
|   |   |   |   └── ...
|   |   |   └── ghost/
|   |   |   |   └── example-archive.md
|   |   |   |   └── example-page.md
|   |   |   |   └── example-tagcloud.md
|   |   |   |   └── ...
|   ├── assets/
|   |   └── themes/
|   |   |   └── bootstrap/
|   |   |   |   └── _coffee/
|   |   |   |   └── _less/
|   |   |   |   └── images/
|   |   |   └── curtana/
|   |   |   |   └── _js/
|   |   |   |   └── _less/
|   |   |   |   └── svg/
|   |   |   └── ghost/
|   |   |   |   └── _js/
|   |   |   |   └── _scss/
|   |   |   |   └── fonts/
...
</code></pre>
</div>

<h2 id="amsf-options">AMSF Options</h2>

<p>There’re several built-in options you can use in your theme. These options can also be overridden in theme specific config.</p>

<h3 id="sitename"><code class="highlighter-rouge">site.name</code></h3>

<p>Template:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;footer</span> <span class="na">class=</span><span class="s">"footer"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/"</span><span class="nt">&gt;</span>{{ site.name }}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/atom.xml"</span><span class="nt">&gt;</span>Atom<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/footer&gt;</span>
</code></pre>
</div>

<p>Output:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;footer</span> <span class="na">class=</span><span class="s">"footer"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/"</span><span class="nt">&gt;</span>Almace Scaffolding<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"/atom.xml"</span><span class="nt">&gt;</span>Atom<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/footer&gt;</span>
</code></pre>
</div>

<h3 id="sitedescription"><code class="highlighter-rouge">site.description</code></h3>

<p>Site description, will appear in the document meta and Atom feed subtitle.</p>

<p>Template:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:description"</span> <span class="na">content=</span><span class="s">"{{ site.description }}"</span><span class="nt">&gt;</span>
</code></pre>
</div>

<p>Output:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"og:description"</span> <span class="na">content=</span><span class="s">"Super-fast Jekyll framework"</span><span class="nt">&gt;</span>
</code></pre>
</div>

<h3 id="sitebase"><code class="highlighter-rouge">site.base</code></h3>

<p>Base URL, this is useful when you need to build site in a subdirectory (like GitHub Pages for Projects), it provides a specific URL prefix, for example, if the production site URL is http://sparanoid.com/lab/amsf/, set <code class="highlighter-rouge">base</code> to <code class="highlighter-rouge">/lab/amsf</code>, without trailing slash. This make sure all the links are relative to current site root (in a subdirectory in this case), you should use this variable for <strong>every</strong> link appeared in your theme.</p>

<p>Config:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">base</span><span class="pi">:</span> <span class="s">/lab/amsf</span>
</code></pre>
</div>

<p>Template:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ site.base }}/atom.xml"</span><span class="nt">&gt;</span>Atom<span class="nt">&lt;/a&gt;</span>
</code></pre>
</div>

<p>Output:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/lab/amsf/atom.xml"</span><span class="nt">&gt;</span>Atom<span class="nt">&lt;/a&gt;</span>
</code></pre>
</div>

<h3 id="sitefile"><code class="highlighter-rouge">site.file</code></h3>

<p>Media assets URL used in posts, without trailing slash. In the most cases this URL should be powered by a CDN provider.</p>

<p>Config:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">file</span><span class="pi">:</span> <span class="s">//d349cztnlupsuf.cloudfront.net</span>
</code></pre>
</div>

<p>Template:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"{{ site.file }}/post-thumbnail.jpg"</span><span class="nt">&gt;</span>
</code></pre>
</div>

<p>Output:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"//d349cztnlupsuf.cloudfront.net/post-thumbnail.jpg"</span><span class="nt">&gt;</span>
</code></pre>
</div>

<h3 id="sitetwitter"><code class="highlighter-rouge">site.twitter</code></h3>

<p>Site Twitter account handle.</p>

<p>Template:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://twitter.com/{{ site.twitter }}"</span><span class="nt">&gt;</span>Follow @{{ site.twitter }} on Twitter<span class="nt">&lt;/a&gt;</span>
</code></pre>
</div>

<p>Output:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://twitter.com/sparanoid"</span><span class="nt">&gt;</span>Follow @sparanoid on Twitter<span class="nt">&lt;/a&gt;</span>
</code></pre>
</div>

<h3 id="siteforceutf8"><code class="highlighter-rouge">site.force_utf_8</code></h3>

<p>Force UTF-8 encoding, enable this will simply add <code class="highlighter-rouge">&lt;meta charset="utf-8"&gt;</code> to the head of your pages.</p>

<p>Template:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>{% if site.force_utf_8 %}
  <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
{% endif %}
</code></pre>
</div>

<h2 id="theme-features">Theme Features</h2>

<p>There’re some features can be integrated into your theme.</p>

<h3 id="basic-multi-language-support">(Basic) Multi-Language Support</h3>

<p>You can define post / page language in your front-matter field:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">languages</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">zh-tw</span>
</code></pre>
</div>

<p>An additional <code class="highlighter-rouge">lang</code> HTML attribute will be added to your final rendering:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;article</span> <span class="na">lang=</span><span class="s">"zh-tw"</span><span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/article&gt;</span>
</code></pre>
</div>

<p>If your post / page content is multilingual, you can also define multiple languages in array:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">languages</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">zh-tw</span>
  <span class="pi">-</span> <span class="s">en-us</span>
</code></pre>
</div>

<p>Please note that only the first item defined in <code class="highlighter-rouge">languages</code> array will be used in final <code class="highlighter-rouge">lang</code> ouput, the additional languages will be available in JSON feed output:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"languages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"zh-tw"</span><span class="p">,</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"note"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"miscellaneous"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="smooshing-assets">Smooshing Assets</h3>

<p>For better performance, Almace Scaffolding will find all the CSS, script links and images in compiled HTML, and outputs a version with all the CSS, scripts and images (Base64) written inline. Sounds cool? but it needs theme support. Here’s how:</p>

<p>You can simply add the query string <code class="highlighter-rouge">?assets-inline</code> at the end of the file you’d like to be smooshed in production site:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- This CSS will be smooshed into HTML --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"{{ '/css/app.css?assets-inline' | prepend: amsf_theme_assets }}"</span><span class="nt">&gt;</span>

<span class="c">&lt;!-- This script will be smooshed into HTML --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"{{ '/js/app.js?assets-inline' | prepend: amsf_theme_assets }}"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
</div>

<h3 id="user-custom-styles-support">User Custom Styles Support</h3>

<p>Define the following code snippet into your theme styles (Less) will allow users to custom your theme without touching the theme files:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="o">//</span> <span class="nt">Import</span> <span class="nt">user</span> <span class="nt">custom</span> <span class="nt">styles</span>
<span class="k">@import</span> <span class="s1">"../../../_less/custom"</span><span class="p">;</span>
</code></pre>
</div>

<h3 id="user-custom-scripts-support">User Custom Scripts Support</h3>

<p>Define the following code snippet into your theme template (it’s recommended to put it in footer) will allow users to add custom scripts without touching the theme files:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- User custom scripts --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"{{ '/js/custom.js?assets-inline' | prepend: amsf_user_assets }}"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
</div>

<h3 id="page--post-specific-css-block-support">Page / Post Specific CSS Block Support</h3>

<p>This allow your user to define page / post specific CSS blocks in front-matter data:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- Page-wide custom CSS --&gt;</span>
{{ amsf_page_css }}
</code></pre>
</div>

<h3 id="google-analytics-support">Google Analytics Support</h3>

<p>This allow your user to be able to use Google Analytics for their site, tracking ID can be changed in config file:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- Google Analytics tracking code --&gt;</span>
{{ amsf_google_analytics }}
</code></pre>
</div>

<h2 id="publishing-themes">Publishing Themes</h2>

<p>You really like your custom design and wanna show it off to the world? Cool, you can create (pack) you own theme by the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>grunt theme-save
</code></pre>
</div>

<p>The activated theme will be saved to AMSF cache (<code class="highlighter-rouge">_amsf/</code>) with correct file and directory structure, then you can upload your theme to GitHub.</p>

<p>Still confusing? see my default theme <a href="http://github.com/amsf/amsf-curtana">Curtana</a> for reference.</p>

  </div>

</article>


</main>

<!-- Footer section -->

  <footer class="footer">
    <ul>
      <li><a href="/">kapalhq.io</a></li>

      
        <li><a href="http://sparanoid.com/lab/amsf/" title="Almace Scaffolding">AMSF</a></li>
        <li><a href="http://github.com/amsf/amsf-curtana" title="Curtana">Curtana</a></li>
      

      

      <li><a href="/feed.xml" title="Feed - Atom (The Atom Syndication Format)">Atom</a></li>
    </ul>
  </footer>


<!-- The following code is an example use of including external JavaScript libraries -->


<!-- Theme scripts -->
<script src="/assets/themes/curtana/js/app.js?assets-inline"></script>

<!-- User custom scripts -->
<script src="/assets/js/custom.js?assets-inline"></script>

<!-- Google Analytics tracking code -->

  


<!-- Foot hooks -->



